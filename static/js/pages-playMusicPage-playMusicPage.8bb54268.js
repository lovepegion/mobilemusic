(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-playMusicPage-playMusicPage"],{"10a0":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".c-total[data-v-6a1fd5d2]{padding:%?30?% %?24?%;text-align:center;font-weight:bolder}",""]),t.exports=e},2482:function(t,e,i){"use strict";var a=i("e29e"),o=i.n(a);o.a},3077:function(t,e,i){"use strict";i.r(e);var a=i("30b8"),o=i("7c36");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("bd18");var r,s=i("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"45a8ff02",null,!1,a["a"],r);e["default"]=c.exports},"30b8":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={uNavbar:i("4c4c").default,uIcon:i("dc9d").default,uPopup:i("ffdd").default,sqComments:i("5dff").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"play-music-page"},[i("u-navbar",{attrs:{height:55,title:t.audioTitle,immersive:!0,"border-bottom":!1,background:{background:"transparent"}}}),i("div",{staticClass:"bg-wrapper"},[i("v-uni-image",{staticClass:"image-bg",staticStyle:{width:"100%",height:"100%"},attrs:{mode:"aspectFill",src:t.audioPageBg}})],1),i("v-uni-view",{staticClass:"music-content"},[i("v-uni-view",{staticClass:"center-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClickCenterBox.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"pic-box",style:{display:t.showLrc?"none":"flex"}},[i("v-uni-view",{staticClass:"pic-img-wrapper"},[i("v-uni-image",{staticClass:"pic-box-img",attrs:{animation:t.animationData,mode:"aspectFill",src:t.audioPageBg}}),i("v-uni-view",{staticClass:"circle-ani"}),i("v-uni-view",{staticClass:"circle-ani ani2"})],1)],1),i("v-uni-view",{staticStyle:{width:"100%",height:"100%"},style:{display:t.showLrc?"block":"none"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClickCenterBox.apply(void 0,arguments)}}},[i("v-uni-scroll-view",{ref:"lrcView",staticClass:"lrc-scroll-view",staticStyle:{width:"100%",height:"100%"},attrs:{"scroll-y":"true","scroll-top":t.lrcScrollTop}},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.audioLrc.ms&&t.audioLrc.ms.length>0,expression:"audioLrc.ms && audioLrc.ms.length>0"}],staticClass:"lrc-wrapper"},t._l(t.audioLrc.ms,(function(e,a){return i("v-uni-view",{class:{"lrc-active":a===t.showlrcIndex},staticStyle:{"font-size":"32rpx","margin-bottom":"30rpx","text-align":"center","font-weight":"bold"}},[t._v(t._s(e.c))])})),1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.audioLrc.ms||t.audioLrc.ms.length<=0,expression:"!audioLrc.ms || audioLrc.ms.length <= 0"}]},[t._v("暂无歌词")])],1)],1)],1),i("v-uni-view",{staticClass:"bot-buttons"},[i("v-uni-view",{staticClass:"top-bts"},[i("v-uni-view",[i("u-icon",{attrs:{name:"heart",size:"60"}})],1),i("v-uni-view",[i("u-icon",{attrs:{name:"download",size:"60"}})],1),i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openComment.apply(void 0,arguments)}}},[i("u-icon",{attrs:{name:"chat",size:"60"}})],1)],1),i("v-uni-view",{staticClass:"process-bar-wrapper"},[i("v-uni-view",[t._v(t._s(t.parseMinute(t.audioMeta.currentTime))+":"+t._s(t.parseSecond(t.audioMeta.currentTime)))]),i("v-uni-view",{staticClass:"process-line-box"},[i("v-uni-view",{staticClass:"pro-line dura-line"}),i("v-uni-view",{staticClass:"pro-line dot"}),i("v-uni-view",{staticClass:"pro-line buffed-line",style:{width:t.audioBuffedPerc+"%"}}),i("v-uni-view",{staticClass:"pro-line play-line",style:{width:t.audioPlayPerc+"%"}})],1),i("v-uni-view",[t._v(t._s(t.parseMinute(t.audioMeta.duration))+":"+t._s(t.parseSecond(t.audioMeta.duration)))])],1),i("v-uni-view",{staticClass:"control-bts"},[i("v-uni-view",{staticStyle:{margin:"0 20rpx"}},[i("u-icon",{attrs:{name:"rewind-left",size:"100"}})],1),i("v-uni-view",{staticStyle:{margin:"0 20rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickPlayBt.apply(void 0,arguments)}}},[i("u-icon",{attrs:{name:t.audioMeta.paused?"play-circle":"pause-circle",size:"100"}})],1),i("v-uni-view",{staticStyle:{margin:"0 20rpx"}},[i("u-icon",{attrs:{name:"rewind-right",size:"100"}})],1)],1)],1)],1),i("u-popup",{attrs:{"safe-area-inset-bottom":!0,closeable:!0,mode:"bottom","border-radius":"10",height:"800rpx"},model:{value:t.showComment,callback:function(e){t.showComment=e},expression:"showComment"}},[i("sq-comments",{ref:"comments"})],1)],1)},n=[]},5101:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={uIcon:i("dc9d").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"comment-box"},[i("v-uni-view",{staticClass:"avatar-box"},[i("v-uni-image",{staticClass:"avatar",attrs:{src:t.item.user.avatarUrl}})],1),i("v-uni-view",{staticClass:"info-box"},[i("v-uni-view",{staticClass:"user-name-box flex"},[i("v-uni-view",[i("v-uni-view",{staticClass:"user-name"},[t._v(t._s(t.item.user.nickname))]),i("v-uni-view",{staticClass:"date"},[t._v(t._s(t.formatTime(t.item.time)))])],1),i("v-uni-view",{staticClass:"like-bt"},[t._v(t._s(t.item.likedCount)),i("u-icon",{attrs:{name:"thumb-up"}})],1)],1),i("v-uni-view",{staticClass:"content"},[t._v(t._s(t.item.content))])],1)],1)},n=[]},"5c4d":function(t,e,i){"use strict";i.r(e);var a=i("f1c2"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"5dff":function(t,e,i){"use strict";i.r(e);var a=i("8a73"),o=i("b949");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("766f");var r,s=i("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"6a1fd5d2",null,!1,a["a"],r);e["default"]=c.exports},"5e54":function(t,e,i){var a=i("10a0");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("1411a0d4",a,!0,{sourceMap:!1,shadowMode:!1})},7506:function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("5530")),n=i("2f62"),r={data:function(){return{option:{},animationData:{},animation:null,animationFnKey:null,cycles:0,showLrc:!1,lrcScrollTop:0,showlrcIndex:0,showComment:!1}},computed:(0,o.default)((0,o.default)({},(0,n.mapState)(["audioId","audioTitle","picUrl","audioMeta"])),(0,n.mapGetters)(["audioPageBg"])),watch:{audioMeta:function(t){if(this.audioLrc.ms){for(var e=this.audioLrc.ms,i=t.currentTime,a=this.showlrcIndex,o=0,n=e.length;o<n;o++){var r=e[o];if(r.t>=i){a=o-1;break}}this.showlrcIndex=a}}},onLoad:function(t){this.option=t},onReady:function(){},beforeDestroy:function(){null!=this.animationFnKey&&clearInterval(this.animationFnKey)},mounted:function(){console.log("play music page mounted!"),this.playMusicById(this.option.id)},created:function(){},methods:{onClickPlayBt:function(){this.audioMeta.paused?(console.log("doPlayAudio"),this.doPlayAudio()):(console.log("doPauseAudio"),this.doPauseAudio())},onClickCenterBox:function(){console.log("click center box"),this.showLrc=!this.showLrc},openComment:function(){var t=this;this.showComment=!0,this.$nextTick((function(){t.$refs.comments.getList({type:0,id:t.option.id})}))}}};e.default=r},"766f":function(t,e,i){"use strict";var a=i("5e54"),o=i.n(a);o.a},"7c36":function(t,e,i){"use strict";i.r(e);var a=i("7506"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},"8a57":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.play-music-page[data-v-45a8ff02]{width:100%;height:100%;padding-top:%?150?%;position:absolute;top:0;left:0;bottom:100%}.image-bg[data-v-45a8ff02]{width:100%;height:100%;position:fixed;top:0;left:0;bottom:0;-webkit-filter:blur(70px);filter:blur(70px);opacity:.7}.music-content[data-v-45a8ff02]{width:100%;height:100%;display:flex;flex-direction:column;flex-wrap:nowrap}.center-box[data-v-45a8ff02]{height:0;flex:1}.pic-box[data-v-45a8ff02]{width:100%;border-radius:50%;box-sizing:border-box;display:flex;justify-content:center;align-items:center;position:relative}.pic-img-wrapper[data-v-45a8ff02]{width:%?450?%;height:%?450?%;border-radius:50%;display:block;position:relative}.pic-box-img[data-v-45a8ff02]{width:%?450?%;height:%?450?%;border-radius:50%;display:block;border:%?10?% solid rgba(83,77,93,.9)}.pic-box .circle-ani[data-v-45a8ff02]{border:%?3?% solid rgba(75,80,116,.6);box-sizing:border-box;-webkit-transform:scale(1.1);transform:scale(1.1);position:absolute;top:0;left:0;width:%?470?%;height:%?470?%;border-radius:50%}.pic-box .circle-ani.ani2[data-v-45a8ff02]{border:%?3?% solid rgba(75,80,116,.3);-webkit-transform:scale(1.3);transform:scale(1.3)}.top-bts[data-v-45a8ff02]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;padding:%?30?% %?80?%}.process-bar-wrapper[data-v-45a8ff02]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;padding:%?10?% %?40?%}.process-bar-wrapper .process-line-box[data-v-45a8ff02]{width:0;height:%?12?%;margin:0 %?20?%;flex:1;border-radius:%?10?%;position:relative}.process-bar-wrapper .process-line-box .pro-line[data-v-45a8ff02]{width:0;height:%?12?%;border-radius:%?10?%;position:absolute;top:0;left:0}\n\n/* 总长度 */.process-bar-wrapper .process-line-box .dura-line[data-v-45a8ff02]{width:100%;height:100%;background-color:#8d888b}\n\n/* 缓存长度 */.process-bar-wrapper .process-line-box .buffed-line[data-v-45a8ff02]{background-color:#999}\n\n/* 播放长度 */.process-bar-wrapper .process-line-box .play-line[data-v-45a8ff02]{background-color:#95a7dd}\n\n/* 点 */.process-bar-wrapper .process-line-box .play-line[data-v-45a8ff02]::after{content:"";position:absolute;top:%?-4?%;right:%?-4?%;background-color:#fff;width:%?20?%;height:%?20?%;border-radius:50%}.control-bts[data-v-45a8ff02]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:%?40?% %?20?%}\n\n/* 歌词激活样式 */.lrc-active[data-v-45a8ff02]{color:var(--primary-color)}',""]),t.exports=e},"8a73":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var a={sqCommentItem:i("cd3f").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"c-total"},[t._v("热门评论("+t._s(t.formatNumber(t.total))+")")]),t._l(t.hotComments,(function(t,e){return i("sq-comment-item",{key:e,attrs:{item:t}})}))],2)},n=[]},b949:function(t,e,i){"use strict";i.r(e);var a=i("e685"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},bd18:function(t,e,i){"use strict";var a=i("fe6d"),o=i.n(a);o.a},cd3f:function(t,e,i){"use strict";i.r(e);var a=i("5101"),o=i("5c4d");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("2482");var r,s=i("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"62bfd470",null,!1,a["a"],r);e["default"]=c.exports},e29e:function(t,e,i){var a=i("f5ab");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("1bb25dfe",a,!0,{sourceMap:!1,shadowMode:!1})},e685:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{type:String},data:function(){return{hotComments:[],total:0}},computed:{},created:function(){},methods:{getList:function(t){var e=this,i=t.id,a=t.type,o=t.limit;this.$api.commentHot({data:{type:a,id:i,limit:o||30}}).then((function(t){e.hotComments=t.hotComments,e.total=t.total}))}}};e.default=a},f1c2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{item:Object},data:function(){return{}},computed:{},created:function(){},methods:{}};e.default=a},f5ab:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".comment-box[data-v-62bfd470]{width:100%;display:flex;flex-wrap:nowrap;padding:%?24?% %?24?%;border-bottom-color:#f0f0f0;border-bottom-style:solid;border-bottom-width:%?1?%;color:#333}.comment-box .avatar-box .avatar[data-v-62bfd470]{width:%?80?%;height:%?80?%;border-radius:50%;margin-right:%?24?%}.comment-box .info-box[data-v-62bfd470]{width:0;flex:1}.comment-box .user-name-box[data-v-62bfd470]{justify-content:space-between;align-items:center;margin-bottom:%?10?%}.comment-box .user-name-box .like-bt[data-v-62bfd470]{font-size:%?26?%}.comment-box .user-name-box .user-name[data-v-62bfd470]{font-size:%?28?%}.comment-box .user-name-box .date[data-v-62bfd470]{font-size:%?24?%;color:#999}",""]),t.exports=e},fe6d:function(t,e,i){var a=i("8a57");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("a8e29be6",a,!0,{sourceMap:!1,shadowMode:!1})}}]);